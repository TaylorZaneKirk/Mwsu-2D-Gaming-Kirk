<!--
Name: Taylor Kirk
Professor: Dr. Passos
Class: Web-App Security
Date: 7/25/16
-->

<html>

    <head>

        <title>Assignment 4</title>

    </head>

    <body>

        <script>

            Memory  = "0";      // initialise memory variable
            Current = "0";      //   and value of Display
            Operation = 0;      // Records code for operation
            MAXLENGTH = 30;     // maximum number of digits

            function AddDigit(dig){       //DIGIT TO DISPLAY (kept as 'Current')
                if (Current.length > MAXLENGTH){
                    Current = "Aargh! Too long"; //limit length
                } else if ((eval(Current) == 0) && (Current.indexOf(".") == -1)){
                    Current = dig;
                } else {
                    Current = Current + dig;
                };

                document.Calculator.Display.value = Current;
            };

            function Operate(oprand){            //STORE OPERATION

                if (oprand.indexOf("+") > -1) { Operation = 0; };       // sum
                if (oprand.indexOf("-") > -1) { Operation = 1; };       // difference

                Memory = Current;                 //store value
                Current = "";
                document.Calculator.Display.value = Current;
            };

            function Calculate()            //PERFORM CALCULATION
            {
                if (Operation == 0)
                    Current = eval(Memory) + eval(Current);
                if (Operation == 1)
                    Current = eval(Memory) - eval(Current);

                Operation = 0;                //clear operation
                Memory    = "0";              //clear memory
                document.Calculator.Display.value = Current;
            };

        </script>

        <FORM name="Calculator">
            <table border="2">  <!--OUTER BORDER OF CALCULATOR, PANELS-->
                <tr>   <!--TOP PANEL------>
                    <td colspan="1">A Simple JavaScript Calculator<br>
                        <input type="text" maxlength="40" size="30" name="Display">
                    </td>
                </tr>  <!--END TOP PANEL--->
                <tr>
                    <td> <!--LEFT PANEL------>
                        <table>
                            <tr>
                                <td><input type="button" value="7" name="seven" OnClick="AddDigit('7')"></td>
                                <td><input type="button" value="8" name="eight" OnClick="AddDigit('8')"></td>
                                <td><input type="button" value="9" name="nine" OnClick="AddDigit('9')"></td>
                            </tr>
                            <tr>
                                <td><input type="button" value="4" name="four" OnClick="AddDigit('4')"></td>
                                <td><input type="button" value="5" name="five" OnClick="AddDigit('5')"></td>
                                <td><input type="button" value="6" name="six" OnClick="AddDigit('6')"></td>
                            </tr>
                            <tr>
                                <td><input type="button" value="1" name="one" OnClick="AddDigit('1')"></td>
                                <td><input type="button" value="2" name="two" OnClick="AddDigit('2')"></td>
                                <td><input type="button" value="3" name="three" OnClick="AddDigit('3')"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><input type="button" value="0" name="zero" OnClick="AddDigit('0')"></td>
                                <td></td>
                            </tr>
                        </table>
                    </td><!--END LEFT PANEL-->
                    <td> <!--RIGHT PANEL----->
                        <table>
                            <tr>
                                <td><input type="button" value="+" name="plus" OnClick="Operate('+')"></td>
                                <td><input type="button" value="-" name="minus" OnClick="Operate('-')"></td>
                                <td><input type="button" value="=" name="equate" OnClick="Calculate()"></td>
                            </tr>
                        </table>
                    </td><!--END RIGHT PANEL-->
                </tr>
            </table>
        </FORM>


    </body>

</html>
